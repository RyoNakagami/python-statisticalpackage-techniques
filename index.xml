<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Python package building techniques for regmonkeys</title>
<link>https://ryonakagami.github.io/python-statisticalpackage-techniques/</link>
<atom:link href="https://ryonakagami.github.io/python-statisticalpackage-techniques/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.6.39</generator>
<lastBuildDate>Tue, 03 Dec 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>Appendix A â€” Resource not accessible by integration Error</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/GitHubFAQ/Resource-not-accessible-by-integration.html</link>
  <description><![CDATA[ 




<section id="github-actionsã«ãŠã‘ã‚‹resource-not-accessible-by-integration-error" class="level2">
<h2 class="anchored" data-anchor-id="github-actionsã«ãŠã‘ã‚‹resource-not-accessible-by-integration-error">GitHub Actionsã«ãŠã‘ã‚‹Resource not accessible by integration Error</h2>
<p><code>Resource not accessible by integration</code> error ã¨ã¯ï¼Œæ–‡å­—é€šã‚Šã€Œintegrationæ™‚ã«ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã€ã“ã¨ã‚’æŒ‡ã—ã¦ã„ã¾ã™ï¼ ã¤ã¾ã‚Šï¼Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒç‰¹å®šã®ãƒªã‚½ãƒ¼ã‚¹ï¼ˆãƒªãƒã‚¸ãƒˆãƒªã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã€ç’°å¢ƒãªã©ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®å¿…è¦ãªæ¨©é™ã‚’æŒã£ã¦ã„ãªã„ã®ãŒåŸå› ã¨ãªã‚Šã¾ã™ï¼Œ</p>
<section id="solutions-1-secrets.github_token-ã®permissionç¯„å›²å¤‰æ›´" class="level3">
<h3 class="anchored" data-anchor-id="solutions-1-secrets.github_token-ã®permissionç¯„å›²å¤‰æ›´">Solutions 1: <code>secrets.GITHUB_TOKEN</code> ã®Permissionç¯„å›²å¤‰æ›´</h3>
<p><code>${{ secrets.GITHUB_TOKEN }}</code>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆPermissionã¯ï¼Œè©²å½“ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã® <code>Settings &gt; Actions &gt; General &gt; Workflow permissions</code> ã«ã¦å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã™ï¼</p>
<ul>
<li><code>Read and write permissions</code></li>
<li><code>Reead repository contents permission</code></li>
</ul>
<p>ã®ï¼’ã¤ã®ãƒ¬ãƒ™ãƒ«ãŒé¸æŠã§ãã¾ã™ï¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…å®¹ã«åˆã‚ã›ã¦è¨­å®šã—ã¾ã™ãŒï¼ŒGit tagé‹ç”¨ã«åˆã‚ã›ãŸRelease noteã®è‡ªå‹•ä½œæˆã®å ´åˆã¯å‰è€…ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼</p>
<div id="exm-gittag" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example A.1</strong></span> <strong>: git tagã«å¿œã˜ãŸrelease noteä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</strong> <br></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> git tag version update</span></span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull_request</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> master</span></span>
<span id="cb1-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">types</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> closed</span></span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">jobs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">build</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> github.event.pull_request.merged == true</span></span>
<span id="cb1-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runs-on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ubuntu-latest</span></span>
<span id="cb1-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">steps</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Checkout main branch</span></span>
<span id="cb1-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> actions/checkout@v4</span></span>
<span id="cb1-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ref</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb1-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fetch-depth</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb1-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Extract PR Comment</span></span>
<span id="cb1-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> pr_comment</span></span>
<span id="cb1-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb1-24">          TAG=$(echo "$PULL_REQUEST_BODY" | grep -Po '(?&lt;=tag: )v\.\d+\.\d+\.\d+')</span>
<span id="cb1-25">          if [ -n "$TAG" ]; then</span>
<span id="cb1-26">            gh release create $TAG --generate-notes</span>
<span id="cb1-27">          fi</span>
<span id="cb1-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">env</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">GH_TOKEN</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.token }}</span></span>
<span id="cb1-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PULL_REQUEST_BODY</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"${{ github.event.pull_request.body }}"</span></span></code></pre></div>
</div>


</section>
</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/GitHubFAQ/Resource-not-accessible-by-integration.html</guid>
  <pubDate>Tue, 03 Dec 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>3Â  versioning policy</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/versioning.html</link>
  <description><![CDATA[ 




<section id="versioning-policy" class="level2">
<h2 class="anchored" data-anchor-id="versioning-policy">Versioning policy</h2>
<div class="blog-custom-border">
<p><strong>Def: Versioning</strong> <br></p>
<ul>
<li>Versioningã¨ã¯ï¼Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè­˜åˆ¥å­ã‚’è¿½åŠ ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã®ã“ã¨</li>
<li>å¤šãã®Python packageã§ã¯<a href="https://semver.org/">semantic versioning</a>ãŒç”¨ã„ã‚‰ã‚Œã‚‹</li>
</ul>
</div>
<p>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ï¼Œæ˜”ä½¿ãˆãŸmethodãŒä½¿ãˆãªããªã£ãŸã‚Šï¼Œä»–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã®äº’æ›æ€§å•é¡Œã‹ã‚‰å‹•ä½œã—ãªããªã£ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ å‹•ä½œã‚„åˆ†æã®å†ç¾æ€§ä¿è¨¼ãŒã§ãã‚‹ã‚ˆã†ã«ï¼Œé–‹ç™ºè€…ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å„ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªçŠ¶æ…‹ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’å‰²ã‚Šå½“ã¦ï¼Œ ãã‚Œãã‚Œã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç‹¬ç«‹ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; versioningã®ãƒ¡ãƒªãƒƒãƒˆ</strong></p>
<ul>
<li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‰¹å®šã®versionã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹</li>
<li>versioning infoã‚’é€šã—ã¦ï¼Œãƒã‚°ä¿®æ­£ã‚„æ–°æ©Ÿèƒ½è¿½åŠ ãªã©ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å¤‰æ›´å†…å®¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ãˆã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>ä¾å­˜é–¢ä¿‚ç®¡ç†ã‚’å®¹æ˜“ã«ã™ã‚‹</li>
</ul>
<p><code>mypackage</code>ã¨ã„ã†æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’é–‹ç™ºã—ãŸã¨ã—ã¾ã™ï¼ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ï¼Œ<code>Agito</code>ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã—ã¦ãŠã‚Šï¼Œ ã¾ãŸ <code>Agito 3.0.0</code> ã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ï¼ã“ã®ã¨ãï¼Œ<code>mypackage</code>ã‚’åˆ©ç”¨ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ï¼Œ <code>&lt; 3.0.0</code>ã®<code>Agito</code>ãŒåˆ©ç”¨ã§ããªã„ã“ã¨ã«ãªã‚Šã¾ã™ï¼</p>
<p>é©åˆ‡ãªversioning policyã‚’ç”¨ã„ã¦ã‚Œã°ï¼Œ<code>pyproject.toml</code>ãªã©ã®é–‹ç™ºç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agito&gt;=3.0.0,&lt;4.0.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-3"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
<p>ã¨è¨˜è¼‰ã™ã‚‹ã“ã¨ã§ä¾å­˜é–¢ä¿‚ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼</p>
<section id="version-numbering" class="level3">
<h3 class="anchored" data-anchor-id="version-numbering">Version numbering</h3>
<div class="blog-custom-border">
<p><strong>ğŸ“˜ Summary</strong> <br></p>
<ul>
<li>semantic versioningã«å¾“ã£ãŸversion numberã¯ <code>MAJOR.MINOR.PATCH</code> ã®ï¼“ã¤ã®int &gt; 0ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹</li>
<li><code>MAJOR</code>: å¾Œæ–¹äº’æ›æ€§ã®ãªã„å¤‰æ›´ã‚’å…¥ã‚ŒãŸå ´åˆ</li>
<li><code>MINOR</code>: å¾Œæ–¹äº’æ›æ€§ã®ã‚ã‚‹enhancementã‚’å…¥ã‚ŒãŸå ´åˆ</li>
<li><code>PATCH</code>: å¾Œæ–¹äº’æ›æ€§ã®ã‚ã‚‹BUG FIXã‚’å…¥ã‚ŒãŸå ´åˆ</li>
<li>versioningã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã•ã‚ŒãŸå ´åˆï¼Œ<strong>ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å†…å®¹ã‚’å¤‰æ›´ã—ã¦ã¯ãªã‚‰ãªã„</strong>ï¼å¤‰æ›´ã‚’åŠ ãˆã‚‹å ´åˆã¯ï¼Œå¿…ãšæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã“ã¨</li>
<li><code>1.0.0</code>ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æœ€åˆã®å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ã«ä½¿ç”¨ã•ã‚Œã‚‹</li>
</ul>
</div>
<p><a href="https://semver.org/">semantic versioning</a>ã®Version numberingã‚’ã“ã“ã§ã¯å–ã‚Šæ‰±ã„ã¾ã™ï¼ ä¸€èˆ¬çš„ã«ã¯ï¼Œã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æœ€åˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯é€šå¸¸ <code>0.1.0</code> ã‹ã‚‰å§‹ã¾ã‚Šï¼Œé–‹ç™ºé€²æ—/ãƒªãƒªãƒ¼ã‚¹ã«åˆã‚ã›ã¦<code>MAJOR.MINOR.PATCH</code>ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆãŒè¡Œã‚ã‚Œã¾ã™ï¼ version numberã‚’å¢—åŠ  = ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã›ã‚‹ã“ã¨ã‚’ï¼Œversion bumpingã¨å‘¼ã³ã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; <u>Patch release (0.1.0 â†’ 0.1.1)</u></strong></p>
<p>Patch releaseã¯å¾Œæ–¹äº’æ›æ€§ã®ã‚ã‚‹BUG FIXã‚’å…¥ã‚ŒãŸå ´åˆã«è¡Œã‚ã‚Œã¾ã™ï¼å¾Œæ–¹äº’æ›æ€§ã¨ã¯ï¼Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ã‚‚ï¼Œ ä»¥å‰ã«è¨˜è¿°ã—ãŸã‚³ãƒ¼ãƒ‰ãŒãã®ã¾ã¾å‹•ä½œã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ï¼</p>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç›®ç·šã§æ“ä½œæ€§ã«å½±éŸ¿ã‚’ä¸ãˆãªã„ã‚ˆã†ãªï¼Œå†…éƒ¨çš„ãªãƒã‚°å¤‰æ›´ãŒPatch releaseã®å¯¾è±¡ã¨ãªã‚Šã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; <u>Minor release (0.1.0 -&gt; 0.2.0)</u></strong></p>
<p>Minor releaseã¯ï¼Œå¤§è¦æ¨¡ãªãƒã‚°ä¿®æ­£ã‚„å¾Œæ–¹äº’æ›æ€§ã‚’ä¿ã¡ãªãŒã‚‰è¿½åŠ ã•ã‚Œã‚‹æ–°æ©Ÿèƒ½ï¼ˆä¾‹: æ–°ã—ã„methodã®è¿½åŠ ï¼‰ã‚’åŠ ãˆãŸå ´åˆã«è¡Œã‚ã‚Œã¾ã™ï¼ Minor releaseã«ä¼´ã†version bumpingãŒãªã•ã‚Œã‚‹éš›ï¼Œ<code>PATCH</code> ã¯ <code>0</code> ã«æˆ»ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; <u>Major release (0.1.0 -&gt; 1.0.0)</u></strong></p>
<p><code>1.0.0</code>ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æœ€åˆã®å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ã«ä½¿ç”¨ã•ã‚Œã¾ã™ï¼ãã®å¾Œï¼Œå¾Œæ–¹äº’æ›æ€§ã®ãªã„å¤‰æ›´ã‚„å¤šãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹å¤‰æ›´ãŒè¡Œã‚ã‚ŒãŸå ´åˆã«ï¼Œ Major releaseãŒè¡Œã‚ã‚Œã¾ã™ï¼å¾Œæ–¹äº’æ›æ€§ã®ãªã„å¤‰æ›´ã¯ <strong>breaking changes</strong> ã¨å‘¼ã°ã‚Œã¾ã™ï¼</p>
<p>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯breaking changesã®ä¸€ä¾‹ã§ã™ï¼ã“ã®å ´åˆï¼Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã¨ï¼Œ å¤ã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’ä½¿ç”¨ã—ã¦ã„ãŸã‚³ãƒ¼ãƒ‰ãŒå‹•ä½œã—ãªããªã‚Šï¼Œã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒç”Ÿã˜ã¾ã™ï¼</p>
</section>
</section>
<section id="python-packageã§ã®å®Ÿè£…" class="level2">
<h2 class="anchored" data-anchor-id="python-packageã§ã®å®Ÿè£…">Python packageã§ã®å®Ÿè£…</h2>
<p><a href="https://packaging.python.org/en/latest/discussions/single-source-version/#single-source-version">Python Packaging User Guide &gt; Single-sourcing the Project Version</a> ã«ã¦</p>
<blockquote class="blockquote">
<p>Many Python distribution packages publish a single Python import package where it is desired that the runtime <strong>version</strong> attribute on the import package report the same version specifier as <code>importlib.metadata.version()</code> reports for the distribution package</p>
</blockquote>
<p>ã¤ã¾ã‚Šï¼Œ</p>
<ul>
<li>package versionã¯ <code>__version__</code> attributeã§å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„</li>
<li><code>__version__</code> attributeã®å†…å®¹ã¯ <code>importlib.metadata.version()</code> ã¨ä¸€è‡´ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ï¼ˆã¤ã¾ã‚Šï¼Œ<code>import_name.__version__</code>, <code>importlib.metadata.version("dist-name")</code>ãŒä¸€è‡´ã™ã‚‹ï¼‰</li>
</ul>
<p>ã¨ã•ã‚Œã¦ã„ã¾ã™ï¼ã—ã‹ã—ï¼Œgit/GitHubã‚’ç”¨ã„ãŸé–‹ç™ºã§ã¯versionã‚’git tagã¨ã„ã†å½¢ã§æ ¼ç´ã—ã¦ã„ãŸã‚Šã—ã¾ã™ã—ï¼ŒPoetryãªã©ã®package-management toolã‚’ç”¨ã„ã¦ã„ã‚‹å ´åˆã¯ <code>pyproject.toml</code>ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãŸã‚Šã—ã¾ã™ï¼ã“ã‚Œã‚‰ã‚’ã‚ˆã‚Šè€ƒãˆã‚‹ã¹ãå•é¡Œã¯ï¼Œ<strong>versionæƒ…å ±ã‚’æ ¼ç´ã—ãŸdata entryã‚’ã©ã“ã«ã™ã¹ããªã®ã‹</strong>ï¼Œã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ï¼</p>
<section id="éæ¨å¥¨-__init__.pyã§ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°" class="level3">
<h3 class="anchored" data-anchor-id="éæ¨å¥¨-__init__.pyã§ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°">éæ¨å¥¨: <code>__init__.py</code>ã§ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</h3>
<p><code>transformer</code>, <code>QuantEconpy</code>, <code>sckit-learn</code>ãªã©ã§ã¯ï¼Œã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã® <code>__init__.py</code> ã«</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>__init__.py</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="__init__.py" style="background: #f1f3f5;"><pre class="sourceCode py code-with-copy"><code class="sourceCode python"><span id="cb2-1">__version__ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1.7.dev0"</span></span></code></pre></div>
</div>
<p>ã¨ã„ã£ãŸå½¢å¼ã§versionæƒ…å ±ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼ã“ã®æ–¹æ³•ã¯ï¼Œ<strong>ç¾åœ¨ã§ã¯éæ¨å¥¨</strong>ã¨ã•ã‚Œã¦ã„ã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; éæ¨å¥¨ã®ç†ç”±</strong></p>
<ul>
<li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã™ã‚‹ãŸã³ã«ï¼Œ<code>__init__.py</code>ã‚’æ‰‹å‹•ã§å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šï¼Œå¤‰æ›´ã—å¿˜ã‚ŒãŒç™ºç”Ÿã—ã‚„ã™ã„</li>
<li>ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’<code>__init__.py</code>ã«ç›´æ¥è¨˜è¿°ã—ã¦ã„ã‚‹ã¨ï¼Œãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚„CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚„æ›´æ–°ãŒé›£ã—ããªã‚‹</li>
</ul>
</section>
<section id="æ¨å¥¨-pyproject.tomlã«ã‚ˆã‚‹ç®¡ç†" class="level3">
<h3 class="anchored" data-anchor-id="æ¨å¥¨-pyproject.tomlã«ã‚ˆã‚‹ç®¡ç†">æ¨å¥¨: <code>pyproject.toml</code>ã«ã‚ˆã‚‹ç®¡ç†</h3>
<p><a href="https://peps.python.org/pep-0621/#version">PEP 621</a>ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ï¼Œç¾åœ¨ã§ã¯<code>pyproject.toml</code>ã‚’ä½¿ã£ãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãŒæ¨å¥¨ã•ã‚Œã¾ã™ï¼ ãƒã‚¤ãƒ³ãƒˆã¯ï¼Œ</p>
<ul>
<li>versionæƒ…å ±ã¯projectãƒ¡ã‚¿æƒ…å ±ã‚’è¨˜è¼‰ã™ã‚‹<code>pyproject.toml</code>ã§å–ã‚Šæ‰±ã†</li>
<li><code>__version__</code> attributeã¯<code>pyproject.toml</code>ã«è¨˜è¼‰ã•ã‚ŒãŸversionæƒ…å ±ã‚’å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹</li>
</ul>
<p>ã“ã®å ´åˆï¼Œ<code>pyproject.toml</code>, <code>__init__.py</code> ã«ãã‚Œãã‚Œã®ãƒ©ã‚¤ãƒ³ã‚’è¨˜è¼‰ã—ã¾ã™</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb3-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package_name"</span></span>
<span id="cb3-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1.0.0"</span></span></code></pre></div>
</div>
<p>python runtimeä¸­ã§ã‚‚<code>__version__</code>attributeçµŒç”±ã§ç¢ºèªã§ãã‚‹ã‚ˆã†ã«</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>__init__.py__</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="__init__.py__" style="background: #f1f3f5;"><pre class="sourceCode py code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> importlib.metadata <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> version</span>
<span id="cb4-2"></span>
<span id="cb4-3">__version__ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> version(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package_name"</span>)</span></code></pre></div>
</div>
<p>ã‚‚è¨­å®šã—ã¾ã™ï¼<code>importlib.metadata</code>ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¡ã‚¿æƒ…å ±ã«ã¤ã„ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™(Python 3.8ä»¥é™ã«å°å…¥)ï¼ package versionã‚’å–å¾—ã—ãŸã„å ´åˆã¯ï¼Œversionã‚’å–å¾—ã—ãŸã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’<code>importlib.metadata.version()</code>ã®å¼•æ•°ã«è¨­å®šã™ã‚‹ã¨ï¼Œ <code>METADATA</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®version fieldã‚ˆã‚Šversion infoã‚’å–å¾—ã—ã¦ãã‚Œã¾ã™ï¼</p>
<p><code>METADATA</code>ãƒ•ã‚¡ã‚¤ãƒ«ã¯ï¼Œbuild toolã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ãŒï¼Œä¸€èˆ¬çš„ã«ã¯<code>&lt;package_name&gt;.&lt;version&gt;.dist-info</code>ã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ï¼ <code>&lt;package_name&gt;.&lt;version&gt;.dist-info</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã® <code>METADATA</code> ãƒ•ã‚¡ã‚¤ãƒ«ã¯ï¼Œ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹éš›ã« <code>pyproject.toml</code>ï¼ˆãŠã‚ˆã³ãã®ä»–ã®ãƒ“ãƒ«ãƒ‰æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹ã¨ã„ã†é–¢ä¿‚æ€§ãŒã‚ã‚Šã¾ã™ï¼</p>
<p>ãªã®ã§ï¼Œ<code>importlib.metadata.version()</code> ã¯ <code>pyproject.toml</code> ã®å†…å®¹ã‚’å‚ç…§ã—ã¦ã„ã‚‹ã¨ç†è§£ã—ã¦è‰¯ã„ã¨æ€ã„ã¾ã™ï¼</p>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 3.1</strong></span> <strong>: <code>importlib.metadata</code>ã«ã‚ˆã‚Šversion infoå–å¾—</strong> <br></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode py code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> importlib.metadata <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> version</span>
<span id="cb5-2"></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get the version of a package (e.g., 'requests')</span></span>
<span id="cb5-4">package_version <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> version(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'requests'</span>)</span>
<span id="cb5-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"The version of the 'requests' package is: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>package_version<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
<p><strong> OutPut</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">The</span> version of the <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'requests'</span> package is: 2.28.1</span></code></pre></div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://semver.org/">semantic versioning</a></li>
<li><a href="https://packaging.python.org/en/latest/discussions/single-source-version/#single-source-version">Python Packaging User Guide &gt; Single-sourcing the Project Version</a></li>
<li><a href="https://peps.python.org/pep-0621/#version">PEP 621</a></li>
</ul>


</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/versioning.html</guid>
  <pubDate>Sat, 30 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/chapter_header.html</link>
  <description><![CDATA[ 







 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/chapter_header.html</guid>
  <pubDate>Fri, 29 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>2Â  src layout vs flat layout</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/src-layout-vs-flat-layout.html</link>
  <description><![CDATA[ 




<section id="src-layoutã¨-flat-layout" class="level2">
<h2 class="anchored" data-anchor-id="src-layoutã¨-flat-layout">src layoutã¨ flat layout</h2>
<p><strong> â–¶&nbsp; Key Takeaways</strong></p>
<ul>
<li><code>src/</code>ä»¥ä¸‹ã«Import Packagesã‚’é…ç½®ã™ã‚‹src layoutãŒä¸€èˆ¬çš„ã«æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹</li>
<li>å€‹äººç”¨ or ã‚¯ã‚¤ãƒƒã‚¯ã«ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œæˆã—ãŸã„å ´åˆã¯flat layoutã‚’åˆ©ç”¨ã—ã¦ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ãŒï¼Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‘¨ã‚Šã®åˆ©ç‚¹ã‚’è€ƒãˆã‚‹ã¨åŸºæœ¬ã¨ã—ã¦ã¯src layoutã®åˆ©ç”¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™</li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">src layout</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">flat layout</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<ul>
<li>Import Package(<code>package_layout_test</code>)ã‚’<code>src/</code>ä»¥ä¸‹ã®æ ¼ç´ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«</li>
</ul>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb1-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> README.md</span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> pyproject.toml</span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> poetry.lock</span>
<span id="cb1-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> src/</span>
<span id="cb1-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>    â””â”€â”€ package_layout_test/</span>
<span id="cb1-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>       â”œâ”€â”€ __init__.py</span>
<span id="cb1-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>       â””â”€â”€ module.py</span>
<span id="cb1-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> tests/</span>
<span id="cb1-10">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> check_instance_setup.py</span></code></pre></div>
<p>Poetryã§ç”¨ã„ã¦é–‹ç™ºã™ã‚‹å ´åˆã¯ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«</p>
<pre><code>packages = [{ include = "*", from = "src" }]</code></pre>
<p>ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§é–‹ç™ºä¸­ã®PATHåŠã³Import Packageã‚’æ˜ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ï¼</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.poetry]</span></span>
<span id="cb3-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package-layout-test"</span></span>
<span id="cb3-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb3-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"for package install test"</span></span>
<span id="cb3-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">authors</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RyoNak &lt;nakagamiryo0901@gmail.com&gt;"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">license</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MIT"</span></span>
<span id="cb3-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"README.md"</span> </span>
<span id="cb3-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">packages</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[{ </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">include</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">, </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">from</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"src"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> }]</span></span>
<span id="cb3-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">package-mode</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">true</span></span></code></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<ul>
<li>Import Packageã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆç›´ä¸‹ã«é…ç½®ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«</li>
</ul>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> README.md</span>
<span id="cb4-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> pyproject.toml</span>
<span id="cb4-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> poetry.lock</span>
<span id="cb4-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> package_layout_test/</span>
<span id="cb4-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ __init__.py</span>
<span id="cb4-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â””â”€â”€ module.py</span>
<span id="cb4-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> tests/</span>
<span id="cb4-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> check_instance_setup.py</span></code></pre></div>
<p>Poetryã§ç”¨ã„ã¦é–‹ç™ºã™ã‚‹å ´åˆã¯ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«</p>
<pre><code>packages = [{ include = "package_layout_test"}]</code></pre>
<p>ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§é–‹ç™ºä¸­ã®PATHåŠã³Import Packageã‚’æ˜ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ï¼</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.poetry]</span></span>
<span id="cb6-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package-layout-test"</span></span>
<span id="cb6-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb6-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"for package install test"</span></span>
<span id="cb6-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">authors</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RyoNak &lt;nakagamiryo0901@gmail.com&gt;"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb6-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">license</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MIT"</span></span>
<span id="cb6-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"README.md"</span> </span>
<span id="cb6-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">packages</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[{ </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">include</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package_layout_test"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}]</span></span>
<span id="cb6-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">package-mode</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">true</span></span></code></pre></div>
</div>
</div>
</div>
</div>
<section id="layoutæ§‹æˆã®é•ã„ã«èµ·å› ã™ã‚‹æŒ™å‹•ã®å·®" class="level3">
<h3 class="anchored" data-anchor-id="layoutæ§‹æˆã®é•ã„ã«èµ·å› ã™ã‚‹æŒ™å‹•ã®å·®">layoutæ§‹æˆã®é•ã„ã«èµ·å› ã™ã‚‹æŒ™å‹•ã®å·®</h3>
<p><strong> â–¶&nbsp; Comparison</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>src layout</th>
<th>flat layout</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œç¢ºèª</td>
<td>installæ™‚ã«ã‚³ãƒ¼ãƒ‰ãŒå‹•ä½œã™ã‚‹ã‹ã©ã†ã‹ç¢ºèªãŒå…¥ã‚‹</td>
<td>installæ™‚ã«å‹•ä½œç¢ºèªã•ã‚Œãªã„</td>
</tr>
<tr class="even">
<td>ImportæŒ™å‹•</td>
<td>installã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½¿ç”¨ã‚’ä¿è¨¼ã™ã‚‹</td>
<td>ãƒ“ãƒ«ãƒ‰æ™‚ã«èª¤ã£ã¦é–‹ç™ºä¸­ã®ã‚³ãƒ¼ãƒ‰ãŒæ··å…¥ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹</td>
</tr>
<tr class="odd">
<td>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§</td>
<td>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®éšå±¤ãŒç•°ãªã‚Šç®¡ç†ã—ã‚„ã™ã„</td>
<td>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§ãããªã‚‹ã«ã¤ã‚Œã¦ï¼Œæ§‹æˆãŒè¤‡é›‘ã«ãªã‚‹å‚¾å‘ãŒã‚ã‚‹ï¼è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã®åŒºåˆ¥ãŒåˆ†ã‹ã‚Šã¥ã‚‰ããªã‚‹</td>
</tr>
</tbody>
</table>
<p><strong> â–¶&nbsp; ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œç¢ºèª</strong></p>
<ul>
<li>ãƒ“ãƒ«ãƒ‰ã«æˆåŠŸã—ãŸã¨ã—ã¦ã‚‚ï¼Œå®Ÿéš›ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã‚ã‚‹ã¨ã¯é™ã‚‰ãªã„</li>
<li>PyPIãªã©ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ã—ãŸã¨ãã«ï¼Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸è¶³ã‚„ä¾å­˜é–¢ä¿‚ãŒå£Šã‚ŒãŸãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã—ã¾ã†ãƒªã‚¹ã‚¯ãŒã‚ã‚‹</li>
</ul>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure%3E">Packaging a python library</a></li>
<li><a href="https://docs.pytest.org/en/latest/explanation/goodpractices.html#choosing-a-test-layout-import-rules">pytest documentation &gt; Good Integration Practices</a></li>
<li><a href="https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/">Python Packaging User Guide &gt; src layout vs flat layout</a></li>
</ul>


</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/python-packaging-guide/src-layout-vs-flat-layout.html</guid>
  <pubDate>Fri, 29 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>1Â  uv walk-through</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/uv101/getting-started-with-uv.html</link>
  <description><![CDATA[ 




<section id="python-install" class="level2">
<h2 class="anchored" data-anchor-id="python-install">python install</h2>
<p>uvã§ã¯projectã§åˆ©ç”¨ã™ã‚‹python versionã‚’<code>uv</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦ï¼Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«åŠã³æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; Check available Python version</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> python list</span></code></pre></div>
<p>å‡ºåŠ›çµæœã¯ä»¥ä¸‹</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.13.0+freethreaded-linux-x86_64-gnu</span>    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.13.0-linux-x86_64-gnu</span>                 /home/hoshinokirby/.local/share/uv/python/cpython-3.13.0-linux-x86_64-gnu/bin/python3.13</span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.12.7-linux-x86_64-gnu</span>                 /home/hoshinokirby/.local/share/uv/python/cpython-3.12.7-linux-x86_64-gnu/bin/python3.12</span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.11.10-linux-x86_64-gnu</span>                <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.11.8-linux-x86_64-gnu</span>                 /home/hoshinokirby/.pyenv/versions/3.11.8/bin/python3.11</span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.11.8-linux-x86_64-gnu</span>                 /home/hoshinokirby/.pyenv/versions/3.11.8/bin/python3 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> python3.11</span>
<span id="cb2-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.11.8-linux-x86_64-gnu</span>                 /home/hoshinokirby/.pyenv/versions/3.11.8/bin/python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> python3.11</span>
<span id="cb2-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.10.15-linux-x86_64-gnu</span>                <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.10.12-linux-x86_64-gnu</span>                /usr/bin/python3.10</span>
<span id="cb2-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.10.12-linux-x86_64-gnu</span>                /usr/bin/python3 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> python3.10</span>
<span id="cb2-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.10.12-linux-x86_64-gnu</span>                /bin/python3.10</span>
<span id="cb2-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.10.12-linux-x86_64-gnu</span>                /bin/python3 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> python3.10</span>
<span id="cb2-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.9.20-linux-x86_64-gnu</span>                 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.8.20-linux-x86_64-gnu</span>                 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cpython-3.7.9-linux-x86_64-gnu</span>                  <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-16"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pypy-3.10.14-linux-x86_64-gnu</span>                   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pypy-3.9.19-linux-x86_64-gnu</span>                    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pypy-3.8.16-linux-x86_64-gnu</span>                    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb2-19"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pypy-3.7.13-linux-x86_64-gnu</span>                    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>download available<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span></code></pre></div>
<p><code>uv</code>ã‚³ãƒãƒ³ãƒ‰çµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸpython versionã¯ <code>~/.local/share/uv/python/</code> ä»¥ä¸‹ã«æ ¼ç´ã•ã‚Œã¾ã™ï¼ ä¸€æ–¹ï¼Œsystemã‚„<code>pyenv</code>çµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸpythonã‚‚å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; uvçµŒç”±installed pythonã®æ ¼ç´å…ˆ</strong></p>
<p>ä¸Šã®ä¾‹ã§ã¯<code>~/.local/share/uv/python/</code>ã«uvçµŒç”±installed pythonãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã—ãŸãŒï¼Œè‡ªåˆ†ãŒä»Šåˆ©ç”¨ã—ã¦ã„ã‚‹ç’°å¢ƒã§ã®æ ¼ç´å…ˆã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> python dir</span></code></pre></div>
<p><strong> â–¶&nbsp; <code>uv python install</code>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæŒ™å‹• </strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> python install</span></code></pre></div>
<p>ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã‚‹ã“ã¨ã§projectã§åˆ©ç”¨ã™ã‚‹pythonã®versionã‚’</p>
<p><code>uv</code>ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹projectã«ãŠã„ã¦ï¼Œ<code>.python-version</code>ã®æŒ‡å®šãŒãªã„å ´åˆ</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> python install</span></code></pre></div>
<p>ã¨ã™ã‚‹ã¨available listã®ã†ã¡ï¼Œæœ€æ–°ç‰ˆã®Pythonã‚’installã—ã¾ã™ï¼</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> install 3.12.7</span></code></pre></div>
<p>ã¨ã™ã‚‹ã“ã¨ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹python versionã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; <code>.python-version</code> ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã®install </strong></p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.python-version</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename=".python-version" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.9.19</span></span></code></pre></div>
</div>
<p>ã¨æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è€ƒãˆã¾ã™ï¼ã“ã®ã¨ã <code>uv python install</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨ <code>3.9.19</code> ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ï¼ åŸºæœ¬çš„ã«ã¯ <code>uv python list</code> ã£ã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹versionã‚’å¯¾è±¡ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼</p>
<p><code>uv python list</code>ã§è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„python versionã‚’åˆ©ç”¨ã—ãŸã„å ´åˆã¯ï¼Œäºˆã‚ <code>.pyenv</code> ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã—ã¦ãŠãã¨<code>uv python list</code>ã«ãã®versionãŒåˆ©ç”¨å¯èƒ½ãªversionã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ï¼</p>
<p>ã“ã®å ´åˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®æŒ™å‹•ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé †åºã¨ãªã‚Šã¾ã™</p>
<div class="blog-custom-border">
<p><strong>Steps </strong> <br></p>
<ol type="1">
<li><code>pyenv install 3.10.9</code> -&gt; <code>~/.pyenv/versions/</code>ä»¥ä¸‹ã«æŒ‡å®šã•ã‚ŒãŸversionã®pythonãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</li>
<li><code>pyenv local 3.10.9</code> -&gt; <code>.python-version</code> ã®è¨­å®š</li>
<li><code>uv python install</code> -&gt; <code>~/.pyenv/versions/3.10.9/</code>ã®pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’<code>.local/share/uv/python/</code>ä»¥ä¸‹ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹</li>
</ol>
</div>
<p><code>.pyenv</code>ã¨<code>uv</code>ã§å‚ç…§ã•ã‚Œã‚‹PythonãŒãã‚Œãã‚Œä½œã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã™ãŒï¼Œ</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">du</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-hx</span> ~/.local/share/uv/python/cpython-3.9.6-linux-x86_64-gnu/bin/python3.9</span></code></pre></div>
<p>ã§åˆè¨ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’ç¢ºèªã™ã‚‹ã¨ <code>24KB</code> ç¨‹åº¦ã ã£ãŸã®ã§ã‚¹ãƒˆãƒ¼ãƒ¬ãƒ¼ã‚¸å®¹é‡åœ§è¿«ã¯ã‚ã¾ã‚Šå¿ƒé…ã—ãªãã¦è‰¯ã„ã¨æ€ã‚ã‚Œã¾ã™ï¼</p>
</section>
<section id="uv-managed-projectã®ä½œæˆ" class="level2">
<h2 class="anchored" data-anchor-id="uv-managed-projectã®ä½œæˆ">uv-managed projectã®ä½œæˆ</h2>
<p>åŸºæœ¬çš„ãªæ“ä½œæ–¹æ³•ã¯Poetryã¨åŒã˜ã§ã™ï¼ã¾ãšï¼Œã‚¹ã‚¯ãƒ©ãƒƒãƒã®çŠ¶æ…‹ã‹ã‚‰uv-managed projectã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’walk-throughã—ã¾ã™ï¼</p>
<section id="uv-initã‚’ç”¨ã„ãŸprojectä½œæˆ" class="level3">
<h3 class="anchored" data-anchor-id="uv-initã‚’ç”¨ã„ãŸprojectä½œæˆ"><code>uv init</code>ã‚’ç”¨ã„ãŸprojectä½œæˆ</h3>
<p>ã¾ãšcurrent directoryã‚’ç¢ºèªã—ã¾ã™ï¼</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> pwd</span>
<span id="cb9-2"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;&gt;</span> ~/Desktop/sandbox/</span></code></pre></div>
<p>æ¬¡ã«<code>uv init</code>ã—ã¾ã™ï¼</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># projectã®ä½œæˆ</span></span>
<span id="cb10-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv init test_uv</span>
<span id="cb10-3"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;&gt;</span> Initialized <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">project</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">`</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">test-uv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">`</span> at <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">`</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~/Desktop/sandbox/test_uv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">`</span></span></code></pre></div>
<p><code>uv init</code>ã®ã‚ã¨ã«å…¥åŠ›ã—ãŸå¼•æ•°ã«å¾“ã£ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒæ–°ãŸã«ä½œæˆã•ã‚Œã¾ã™ï¼ã“ã®ã¨ããƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ï¼</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> tree <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 1</span>
<span id="cb11-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb11-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .git</span>
<span id="cb11-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .gitignore</span>
<span id="cb11-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> hello.py</span>
<span id="cb11-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> pyproject.toml</span>
<span id="cb11-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .python-version</span>
<span id="cb11-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> README.md</span></code></pre></div>
<p>uv-managedã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ãŸã‚ï¼Œ<code>hello.py</code> ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ï¼</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv run hello.py</span>
<span id="cb12-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> CPython 3.13.0</span>
<span id="cb12-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Creating</span> virtual environment at: .venv</span>
<span id="cb12-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Hello</span> from test-uv!</span></code></pre></div>
<p><code>.venv</code>ãŒã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ï¼å†ã³<code>tree</code>ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> tree <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 1   </span>
<span id="cb13-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb13-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .git</span>
<span id="cb13-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .gitignore</span>
<span id="cb13-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> hello.py</span>
<span id="cb13-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> pyproject.toml</span>
<span id="cb13-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .python-version</span>
<span id="cb13-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> README.md</span>
<span id="cb13-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> uv.lock</span>
<span id="cb13-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> .venv</span></code></pre></div>
</section>
<section id="uv.lockã¨ã¯" class="level3">
<h3 class="anchored" data-anchor-id="uv.lockã¨ã¯"><code>uv.lock</code>ã¨ã¯ï¼Ÿ</h3>
<div class="blog-custom-border">
<p><strong>Def: <code>uv.lock</code> ãƒ•ã‚¡ã‚¤ãƒ«</strong> <br></p>
<ul>
<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã«é–¢ã™ã‚‹æ­£ç¢ºãªæƒ…å ±ã‚’å«ã‚€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã® lockfile ã®ã“ã¨</li>
<li>ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã«å¿œã˜ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã¹ããƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨˜éŒ²ã—ã¦ã„ã‚‹</li>
</ul>
<p><code>pyproject.toml</code>ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¤§ã¾ã‹ãªè¦ä»¶ã‚’æŒ‡å®šã™ã‚‹ã®ã«å¯¾ã—ï¼Œlockfile ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç’°å¢ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨˜éŒ²ã™ã‚‹ã¨ã„ã†é•ã„ãŒã‚ã‚Šã¾ã™ï¼ lockfileãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã§ãƒã‚·ãƒ³é–“ã§ä¸€è²«æ€§ã®ã‚ã‚‹å†ç¾å¯èƒ½ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¯èƒ½ã«ãªã‚Šã¾ã™.</p>
</div>
<p><code>uv.lock</code> ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«human-readableãªå½¢ã§è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>uv.lock</strong></pre>
</div>
<pre class="lock" data-filename="uv.lock"><code>version = 1
requires-python = "&gt;=3.11, &lt;4.0"
resolution-markers = [
    "python_full_version &lt; '3.12'",
    "python_full_version &gt;= '3.12'",
]

[[package]]
name = "annotated-types"
version = "0.7.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/ee/67/531ea369ba64dcff5ec9c3402f9f51bf748cec26dde048a2f973a4eea7f5/annotated_types-0.7.0.tar.gz", hash = "sha256:aff07c09a53a08bc8cfccb9c85b05f1aa9a2a6f23728d790723543408344ce89", size = 16081 }
wheels = [
    { url = "https://files.pythonhosted.org/packages/78/b6/6307fbef88d9b5ee7421e68d78a9f162e0da4900bc5f5793f6d3d0e34fb8/annotated_types-0.7.0-py3-none-any.whl", hash = "sha256:1f02e8b43a8fbbc3f3e0d4f0f4bfc8131bcb4eebe8849b8e5c773f3a1c582a53", size = 13643 },
]</code></pre>
</div>
<p><code>uv sync</code>ï¼Œ<code>uv add</code>ï¼Œ<code>uv remove</code>ã¨ã„ã£ãŸuvã‚³ãƒãƒ³ãƒ‰å‘¼ã³å‡ºã—ã«åˆã‚ã›ã¦è‡ªå‹•çš„ã«ç·¨é›†ã•ã‚Œã¾ã™ï¼<a href="https://docs.astral.sh/uv/guides/projects/#uvlock">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã«ã‚‚æ³¨æ„ãŒã‚ã‚Šã¾ã™ãŒï¼ŒåŸºæœ¬çš„ã«ã¯ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§ç·¨é›†ã™ã‚‹ã“ã¨ã¯éæ¨å¥¨ã§ã™ï¼</p>
<div style="padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#ffa657;">
<p><strong style="color:#ffa657">è­¦å‘Š !</strong> <br></p>
<p>ç¾åœ¨ã®ã¨ã“ã‚Pythonæ¨™æº–ã®ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä»•æ§˜ã¯å­˜åœ¨ã—ã¾ã›ã‚“ï¼ãã®ãŸã‚<code>uv.lock</code>ã®å½¢å¼ã¯uvã«ç‰¹æœ‰ã®ãŸã‚ï¼ŒPoetryãªã©ã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã§ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ï¼</p>
</div>
</section>
</section>
<section id="ä»®æƒ³ç’°å¢ƒã®ä½œæˆ-uv-venv" class="level2">
<h2 class="anchored" data-anchor-id="ä»®æƒ³ç’°å¢ƒã®ä½œæˆ-uv-venv">ä»®æƒ³ç’°å¢ƒã®ä½œæˆ: <code>uv venv</code></h2>
<p><code>pyproject.toml</code>, <code>uv.lock</code>ã®å†…å®¹ã«å¾“ã£ã¦ pythoné–‹ç™ºä»®æƒ³ç’°å¢ƒ<code>.venv</code> ã‚’ä½œæˆã™ã‚‹å ´åˆã¯</p>
<ul>
<li><code>uv venv</code></li>
<li><code>uv sync</code></li>
<li><code>uv run</code></li>
</ul>
<p>ã®ã„ãšã‚Œã‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä½œæˆã§ãã¾ã™ï¼<code>.venv</code> ä½œæˆå¾Œã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆä¾‹ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ï¼</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> tree <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 2</span>
<span id="cb15-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb15-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .git</span>
<span id="cb15-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ branches</span>
<span id="cb15-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ config</span>
<span id="cb15-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ description</span>
<span id="cb15-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ HEAD</span>
<span id="cb15-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ hooks</span>
<span id="cb15-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ info</span>
<span id="cb15-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â”œâ”€â”€ objects</span>
<span id="cb15-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span>   â””â”€â”€ refs</span>
<span id="cb15-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .gitignore</span>
<span id="cb15-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> hello.py</span>
<span id="cb15-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> pyproject.toml</span>
<span id="cb15-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .python-version</span>
<span id="cb15-16"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> README.md</span>
<span id="cb15-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> uv.lock</span>
<span id="cb15-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> .venv</span>
<span id="cb15-19">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> bin</span>
<span id="cb15-20">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> CACHEDIR.TAG</span>
<span id="cb15-21">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> .gitignore</span>
<span id="cb15-22">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> lib</span>
<span id="cb15-23">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”œâ”€â”€</span> lib64 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> lib</span>
<span id="cb15-24">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â””â”€â”€</span> pyvenv.cfg</span></code></pre></div>
<section id="ä»®æƒ³ç’°å¢ƒã®èµ·å‹•" class="level3">
<h3 class="anchored" data-anchor-id="ä»®æƒ³ç’°å¢ƒã®èµ·å‹•">ä»®æƒ³ç’°å¢ƒã®èµ·å‹•</h3>
<p><code>.venv</code> ä½œæˆå¾Œã«ä»®æƒ³ç’°å¢ƒã‚’èµ·å‹•ã—ãŸã„å ´åˆã¯ <code>source .venv/bin/activate</code> ã‚’å®Ÿè¡Œã—ã¾ã™ï¼ åœæ­¢ã—ãŸã„å ´åˆã¯ï¼Œ<code>deactivate</code> or ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ <code>ctrl + d</code> ã§ä»®æƒ³ç’°å¢ƒå¤–ã«æˆ»ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼</p>
<p><strong> â–¶&nbsp; <code>pyenv-virtualenv</code>ãŒæœ‰åŠ¹åŒ–ã•ã‚ŒãŸç’°å¢ƒã§ã®ä¸å…·åˆ</strong></p>
<p><code>pyenv</code>çµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„python versionã«åŸºã¥ã„ã¦ <code>.venv</code> ãŒä½œæˆã•ã‚ŒãŸå ´åˆï¼Œ <code>pyenv-virtualenv init</code>ãŒè¨­å®šã•ã‚ŒãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ç’°å¢ƒä¸‹ã§ã¯ä¸Šæ‰‹ãèµ·å‹•ã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼</p>
<p>å¯¾å‡¦æ–¹æ³•ã¨ã—ã¦ã¯ï¼Œ<code>.zshrc</code>, <code>.zshenv</code>, <code>.bashrc</code>ãªã©ã§</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> virtualenv-init <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># this line could cause a conflict with uv setup</span></span></code></pre></div>
<p>ã¨ã„ã†è¨­å®šãŒãªã•ã‚Œã¦ã„ã‚‹ç®‡æ‰€ã‚’</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#eval "$(pyenv virtualenv-init -)" # this line could cause a conflict with uv setup</span></span></code></pre></div>
<p>ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹ã“ã¨ã§å¯¾å‡¦ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ <code>pyenv-virtualenv</code>ã‚’æœ‰åŠ¹åŒ–ã—ç¶šã‘ãŸä¸Šã§<code>uv venv</code>ã§ä½œæˆã—ãŸ<code>.venv</code>ã‚’åˆ©ç”¨ã—ãŸã„å ´åˆã¯ï¼Œ<code>pyenv install &lt;python version&gt;</code>ã‚’å®Ÿè¡Œã—ã¦ãŠãã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ï¼</p>
</section>
</section>
<section id="package-management" class="level2">
<h2 class="anchored" data-anchor-id="package-management">package management</h2>
<p><code>pyproject.toml</code>ï¼Œ<code>uv.lock</code>ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ /å‰Šé™¤ã—ãŸã„å ´åˆã¯ï¼Œ<code>uv add</code>ï¼Œ<code>uv remove</code>ã‚’å®Ÿè¡Œã—ã¾ã™</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">uv add</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">uv add from other source</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false">uv add from Git</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<p>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add httpx</span></code></pre></div>
<p>ç‰¹å®šã®versionã§æŒ‡å®šã—ãŸã„å ´åˆã¯</p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># version 2.31.0æŒ‡å®šã®å ´åˆ</span></span>
<span id="cb19-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'requests==2.31.0'</span></span>
<span id="cb19-3"></span>
<span id="cb19-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># version 2.31.0ä»¥ä¸Šã®å ´åˆ</span></span>
<span id="cb19-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'requests&gt;=2.31.0'</span></span></code></pre></div>
<p>æŒ‡å®šã—ãŸversionãŒåˆ©ç”¨ã§ããªã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'httpx&gt;9999'</span></span>
<span id="cb20-2">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Ã—</span> No solution found when resolving dependencies for split</span>
<span id="cb20-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â”‚</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python_full_version</span> == <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'3.11.*'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb20-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">â•°â”€â–¶</span> Because only httpx<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>=1.0.0b0 is available and your</span>
<span id="cb20-5">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">project</span> depends on httpx<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>9999, we can conclude that</span>
<span id="cb20-6">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">your</span> project<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s requirements are unsatisfiable.</span></span>
<span id="cb20-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  help: If you want to add the package regardless of the</span></span>
<span id="cb20-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        failed resolution, provide the `--frozen` flag to</span></span>
<span id="cb20-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        skip locking and syncing.</span></span></code></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<p>package registryä»¥å¤–ã®sourceã‹ã‚‰å–å¾—ã—ãŸã„å ´åˆã¯ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«entryã‚’<code>@</code>ä»¥å¾Œã«æŒ‡å®šã—ã¾ã™</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># From github repository</span></span>
<span id="cb21-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"httpx @ git+https://github.com/encode/httpx"</span></span></code></pre></div>
<p>ã“ã®ã¨ãï¼Œ<code>pyproject.toml</code>ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜éŒ²ã•ã‚Œã¾ã™</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb22" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb22-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb22-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"example"</span></span>
<span id="cb22-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb22-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb22-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"httpx"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-6"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb22-7"></span>
<span id="cb22-8"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.uv.sources]</span></span>
<span id="cb22-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">httpx</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{ </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">git</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/encode/httpx"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> }</span></span></code></pre></div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<p>Git repositoryã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å–å¾—ã—ãŸã„å ´åˆã¯</p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Basic</span></span>
<span id="cb23-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add git+https://github.com/encode/httpx</span>
<span id="cb23-3"></span>
<span id="cb23-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tag version</span></span>
<span id="cb23-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add git+https://github.com/encode/httpx <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--tag</span> 0.27.0</span>
<span id="cb23-6"></span>
<span id="cb23-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># branch</span></span>
<span id="cb23-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add git+https://github.com/encode/httpx <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--branch</span> main</span>
<span id="cb23-9"></span>
<span id="cb23-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># commit</span></span>
<span id="cb23-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add git+https://github.com/encode/httpx <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--rev</span> 326b9431c761e1ef1e00b9f760d1f654c8db48c6</span></code></pre></div>
</div>
</div>
</div>
<section id="uv-add-group-sys_platform" class="level3">
<h3 class="anchored" data-anchor-id="uv-add-group-sys_platform">uv add â€“group &amp; sys_platform</h3>
<p>ç‰¹å®šã®é–‹ç™ºã‚°ãƒ«ãƒ¼ãƒ—ã®ã¿ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„å ´åˆã¯ï¼Œ<code>poetry</code>ã¨åŒæ§˜ã« <code>--group</code> ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™</p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add numpy <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> mac</span></code></pre></div>
<p>ç‰¹å®šã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç”¨ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„å ´åˆã¯ <code>sys_platform</code> ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™</p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jax; sys_platform == "linux"'</span></span></code></pre></div>
<p>ç‰¹å®šã®Pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ç´ä»˜ã‘ã¦ç®¡ç†ã—ãŸã„å ´åˆã¯</p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pandas; python_version &gt;= "3.11"'</span></span></code></pre></div>
<p>ã“ã®ã¨ãï¼Œ<code>pyproject.toml</code>ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜éŒ²ã•ã‚Œã¾ã™</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb27" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb27-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb27-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"test-uv"</span></span>
<span id="cb27-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb27-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Add your description here"</span></span>
<span id="cb27-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"README.md"</span></span>
<span id="cb27-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires-python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;=3.9"</span></span>
<span id="cb27-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb27-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jax&gt;=0.4.30 ; sys_platform == 'linux'"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-9">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pandas&gt;=2.2.3 ; python_full_version &gt;= '3.11'"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-10"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb27-11"></span>
<span id="cb27-12"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[dependency-groups]</span></span>
<span id="cb27-13"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">mac</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb27-14">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"numpy&gt;=2.0.2 ; sys_platform == 'darwin'"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-15"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
<section id="uv-remove" class="level3">
<h3 class="anchored" data-anchor-id="uv-remove">uv remove</h3>
<p>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯</p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> remove requests</span></code></pre></div>
</section>
<section id="upgrade-pakcages" class="level3">
<h3 class="anchored" data-anchor-id="upgrade-pakcages">upgrade pakcages</h3>
<p>packageã®upgradeã¯<code>uv.lock</code>ã®upgradeâ†’<code>.venv</code>ã®syncã¨ã„ã†æ‰‹é †ã‚’è¸ã‚“ã§ãŠã“ã‚ãªã‚Œã¾ã™ï¼</p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> lock <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--upgrade</span></span>
<span id="cb29-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> sync</span></code></pre></div>
<p>ç‰¹å®šã®packageã®ã¿versionã‚’æŒ™ã’ãŸã„å ´åˆã¯</p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> lock <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--upgrade-package</span> requests</span>
<span id="cb30-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> sync</span></code></pre></div>


</section>
</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/uv101/getting-started-with-uv.html</guid>
  <pubDate>Fri, 22 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>ã¯ã˜ã‚ã¦ã®uv</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/uv101/chapter_header.html</link>
  <description><![CDATA[ 




<section id="python-project-managerã®uvã¨ã¯" class="level2">
<h2 class="anchored" data-anchor-id="python-project-managerã®uvã¨ã¯">Python project managerã®uvã¨ã¯ï¼Ÿ</h2>
<p>uvã¨ã¯Rustã§æ›¸ã‹ã‚ŒãŸPython package/project managerã®ã“ã¨ã§ã™ï¼</p>
<p><strong> â–¶&nbsp; ç‰¹å¾´</strong></p>
<ul>
<li><code>poetry</code>ã¨é¡ä¼¼ã—ãŸã‚³ãƒãƒ³ãƒ‰ã§æ“ä½œå¯èƒ½</li>
<li><code>poetry add</code> ã‚ˆã‚Šé«˜é€Ÿãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</li>
<li><code>pyproject.toml</code>ã‚’ç”¨ã„ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ï¼ŒPythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’ç®¡ç†</li>
<li><code>uv.lock</code>ã¨ã„ã†ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚Šä¾å­˜é–¢ä¿‚ã‚’å³å¯†ã«ç®¡ç†</li>
</ul>
<section id="installation" class="level3">
<h3 class="anchored" data-anchor-id="installation">Installation</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Linux</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">MacOS</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false">Windows</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" aria-controls="tabset-1-4" aria-selected="false">PyPI</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<p><strong> â–¶&nbsp; with <code>curl</code></strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-LsSf</span> https://astral.sh/uv/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
<p><strong> â–¶&nbsp; with <code>wget</code></strong></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wget</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-qO-</span> https://astral.sh/uv/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<p><strong> â–¶&nbsp; with <code>curl</code></strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-LsSf</span> https://astral.sh/uv/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
<p><strong> â–¶&nbsp; with <code>wget</code></strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wget</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-qO-</span> https://astral.sh/uv/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
<p><strong> â–¶&nbsp; with <code>brew</code></strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">brew</span> install uv</span></code></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb6-1">powershell <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>c <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"irm https://astral.sh/uv/install.ps1 | iex"</span></span></code></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" aria-labelledby="tabset-1-4-tab">
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pipx</span> install uv</span></code></pre></div>
</div>
</div>
</div>
<p>Ubuntu 24.04 LTS ã«ã¦<code>curl</code>ã‚’ç”¨ã„ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ï¼Œä»¥ä¸‹ã®ã‚ˆã†ãªçµæœãŒæ¨™æº–å‡ºåŠ›ã•ã‚Œã¾ã™</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> curl <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-LsSf</span> https://astral.sh/uv/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span>
<span id="cb8-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">downloading</span> uv 0.5.ï¼” x86_64-unknown-linux-gnu</span>
<span id="cb8-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">no</span> checksums to verify</span>
<span id="cb8-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">installing</span> to /home/ryo_billiken/.local/bin</span>
<span id="cb8-5">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span></span>
<span id="cb8-6">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uvx</span></span>
<span id="cb8-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">everything</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s installed! </span></span>
<span id="cb8-8"></span>
<span id="cb8-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">% which uv</span></span>
<span id="cb8-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/home/hogehoge/.local/bin/uv</span></span>
<span id="cb8-11"></span>
<span id="cb8-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">% uv version</span></span>
<span id="cb8-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">uv 0.5.ï¼”</span></span></code></pre></div>
</section>
<section id="uninstallation" class="level3">
<h3 class="anchored" data-anchor-id="uninstallation">Uninstallation</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true">Linux/macOS</a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false">Windows</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> ~/.local/bin/uv ~/.local/bin/uvx</span></code></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> rm <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$HOME</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>local<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\b</span>in<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\u</span>v.exe</span>
<span id="cb10-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> rm <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$HOME</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>local<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\b</span>in<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\u</span>vx.exe</span></code></pre></div>
</div>
</div>
</div>
<p><strong> â–¶&nbsp; cache dataã®å‰Šé™¤</strong></p>
<p>ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã¯<code>uv</code>ã®å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ã‚’æ¶ˆå»ã—ã¾ã™ãŒï¼Œcacheã¯å‰Šé™¤ã•ã‚Œãªã„ã®ã§cacheã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> cache clean</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> python dir<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb11-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> tool dir<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</section>
<section id="update" class="level3">
<h3 class="anchored" data-anchor-id="update">Update</h3>
<p>2024-11-21æ®µéšã§ã¯ã¾ã  <code>v0.5.ï¼”</code> ãªã®ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦é »ç¹ã«æ›´æ–°ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ï¼</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> self update</span>
<span id="cb12-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">info:</span> Checking for updates...</span>
<span id="cb12-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">success:</span> You<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'re on the latest version of uv (v0.5.ï¼”)</span></span></code></pre></div>
</section>
<section id="auto-completion-setup" class="level3">
<h3 class="anchored" data-anchor-id="auto-completion-setup">Auto-completion Setup</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" aria-controls="tabset-3-1" aria-selected="true">bash</a></li><li class="nav-item"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" aria-controls="tabset-3-2" aria-selected="false">zsh</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" aria-labelledby="tabset-3-1-tab">
<p><code>~/.bashrc</code>ã«ä»¥ä¸‹ã®ãƒ©ã‚¤ãƒ³ã‚’è¨˜è¼‰</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for uv</span></span>
<span id="cb13-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> generate-shell-completion bash<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for uvx</span></span>
<span id="cb13-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uvx</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--generate-shell-completion</span> bash<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" aria-labelledby="tabset-3-2-tab">
<p><code>~/.zshrc</code>ã«ä»¥ä¸‹ã®ãƒ©ã‚¤ãƒ³ã‚’è¨˜è¼‰</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for uv</span></span>
<span id="cb14-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> generate-shell-completion zsh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb14-3"></span>
<span id="cb14-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for uvx</span></span>
<span id="cb14-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uvx</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--generate-shell-completion</span> zsh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://docs.astral.sh/uv/getting-started/installation/">Installing uv</a></li>
</ul>


</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/uv101/chapter_header.html</guid>
  <pubDate>Thu, 21 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>ã¯ã˜ã‚ã¦ã®pytest</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/pytest101/chapter_header.html</link>
  <description><![CDATA[ 




<section id="ãªãœpytestã‚’ä½¿ã†ã®ã‹" class="level2">
<h2 class="anchored" data-anchor-id="ãªãœpytestã‚’ä½¿ã†ã®ã‹">ãªãœpytestã‚’ä½¿ã†ã®ã‹ï¼Ÿ</h2>
<p>PythonãŒæä¾›ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦, <code>unittest</code>ãŒã‚ã‚Šã¾ã™ãŒï¼Œ<code>unittest</code>ã¨æ¯”ã¹<code>pytest</code>ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ï¼</p>
<ul>
<li>command-line tool</li>
<li>Classã¯å¿…è¦ã«å¿œã˜ã¦ä½œæˆã™ã‚Œã°è‰¯ãï¼Œå°è¦æ¨¡ãªãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ã¯ãƒ†ã‚¹ãƒˆé–¢æ•°ã®å®šç¾©ã®ã¿ã§ååˆ†</li>
<li><code>assert</code> æ–‡ãŒã‚·ãƒ³ãƒ—ãƒ«</li>
<li>tracebackæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ãŠã‚Šï¼Œã¾ãŸä¸å¿…è¦ãªã‚‰ã°offã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
</ul>
</section>
<section id="assertæ–‡" class="level2">
<h2 class="anchored" data-anchor-id="assertæ–‡"><code>assert</code>æ–‡</h2>
<p><code>pytest</code>ã‚’ç”¨ã„ãŸunit testã®åŸºæœ¬æ§‹æ–‡ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã™ï¼</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> test_passing():</span>
<span id="cb1-2">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">assert</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<p><code>assert</code>æ–‡ã¯ãƒ†ã‚¹ãƒˆã®æˆå¦ã‚’åˆ¤æ–­ã™ã‚‹Pythonã®çµ„ã¿è¾¼ã¿ã‚³ãƒãƒ³ãƒ‰ã§ã™ï¼<code>assert</code>ä»¥ä¸‹ãŒ<code>False</code>ã¨è©•ä¾¡ã•ã‚Œã‚‹ã¨ï¼Œ<code>AssertionError</code>ã‚’ç™ºç”Ÿã•ã›ã¾ã™ï¼</p>
<p><code>test_passing</code>ã¨ã„ã†é–¢æ•°ã®åå‰ã¯<code>test_</code>ã‹ã‚‰å§‹ã¾ã£ã¦ã¾ã™ãŒï¼Œ<code>pytest</code>ã¯<code>test_</code>ã§å§‹ã¾ã‚‹é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆé–¢æ•°ã¨ã—ã¦æ¤œå‡ºã—ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ï¼</p>
<div id="exm-pytest101" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1</strong></span> <strong>: test_script_001.py</strong> <br></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> test_passing():</span>
<span id="cb2-2">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">assert</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb2-3"></span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> test_passing2():</span>
<span id="cb2-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">assert</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb2-7"></span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> nottest_passing():</span>
<span id="cb2-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">assert</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<p>ã¨ã„ã†pytestç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ï¼ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pytest</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-v</span> ./pytest_scripts/test_script_001.py</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>============================= test session starts ==============================
platform linux -- Python 3.12.7, pytest-8.3.4, pluggy-1.5.0 -- /opt/hostedtoolcache/Python/3.12.7/x64/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/python-statisticalpackage-techniques/python-statisticalpackage-techniques
configfile: pyproject.toml
plugins: anyio-4.7.0
collecting ... collected 2 items

pytest_scripts/test_script_001.py::test_passing PASSED                   [ 50%]
pytest_scripts/test_script_001.py::test_passing2 PASSED                  [100%]

============================== 2 passed in 0.02s ===============================</code></pre>
</div>
</div>
<p>ä¸Šè¨˜ã®ä¾‹ã§ã¯ï¼Œ</p>
<ul>
<li><code>collecting ... collected 2 items</code>ã‚ˆã‚Šãƒ†ã‚¹ãƒˆé–¢æ•°ãŒ2ã¤æ¤œå‡ºã•ã‚ŒãŸ</li>
<li><code>test_passing</code>, <code>test_passing2</code> ãŒå•é¡Œãªããƒ†ã‚¹ãƒˆãƒ‘ã‚¹ã—ãŸ</li>
</ul>
<p>ã¨ã„ã†æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ï¼</p>
</div>
<p><strong> â–¶&nbsp; ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å ´åˆ</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> test_failing():</span>
<span id="cb5-2">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">assert</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<p>ã¨ã„ã†é–¢æ•°ã‚’æº–å‚™ã—ï¼Œã‚ãˆã¦å¤±æ•—ã•ã›ã¦ã¿ã¾ã™ï¼</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pytest</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-v</span> ./pytest_scripts/test_script_002.py</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>============================= test session starts ==============================
platform linux -- Python 3.12.7, pytest-8.3.4, pluggy-1.5.0 -- /opt/hostedtoolcache/Python/3.12.7/x64/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/python-statisticalpackage-techniques/python-statisticalpackage-techniques
configfile: pyproject.toml
plugins: anyio-4.7.0
collecting ... collected 1 item

pytest_scripts/test_script_002.py::test_failing FAILED                   [100%]

=================================== FAILURES ===================================
_________________________________ test_failing _________________________________

    def test_failing():
&gt;       assert (1, 2) == (1, 1)
E       assert (1, 2) == (1, 1)
E         
E         At index 1 diff: 2 != 1
E         
E         Full diff:
E           (
E               1,
E         -     1,
E         ?     ^
E         +     2,
E         ?     ^
E           )

pytest_scripts/test_script_002.py:2: AssertionError
=========================== short test summary info ============================
FAILED pytest_scripts/test_script_002.py::test_failing - assert (1, 2) == (1, 1)
  
  At index 1 diff: 2 != 1
  
  Full diff:
    (
        1,
  -     1,
  ?     ^
  +     2,
  ?     ^
    )
============================== 1 failed in 0.03s ===============================</code></pre>
</div>
</div>
<p><code>At index 1 diff: 2 != 1</code> ã¨ã‚ã‚‹ã‚ˆã†ã« index 1ãŒä¸€è‡´ã—ã¦ã„ãªã„ã¨æ•™ãˆã¦ãã‚Œã¾ã™ï¼pytestãŒè¡¨ç¤ºã™ã‚‹ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´æ‰€ã¨ãã®å‘¨å›²ã®ã‚³ãƒ¼ãƒ‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã“ã¨ã‚’<strong>ãƒˆãƒ¬ãƒ¼ã‚¹ãƒãƒƒã‚¯(traceback)</strong>ã¨å‘¼ã³ã¾ã™ï¼ã“ã‚Œã®è¡¨ç¤ºã‚’offã«ã—ãŸã„å ´åˆã¯</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pytest</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--tb</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>no ./pytest_scripts/</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>============================= test session starts ==============================
platform linux -- Python 3.12.7, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/runner/work/python-statisticalpackage-techniques/python-statisticalpackage-techniques
configfile: pyproject.toml
plugins: anyio-4.7.0
collected 3 items

pytest_scripts/test_script_001.py ..                                     [ 66%]
pytest_scripts/test_script_002.py F                                      [100%]

=========================== short test summary info ============================
FAILED pytest_scripts/test_script_002.py::test_failing - assert (1, 2) == (1, 1)
  
  At index 1 diff: 2 != 1
  
  Full diff:
    (
        1,
  -     1,
  ?     ^
  +     2,
  ?     ^
    )
========================= 1 failed, 2 passed in 0.02s ==========================</code></pre>
</div>
</div>
<section id="pytest-assert" class="level3">
<h3 class="anchored" data-anchor-id="pytest-assert">Pytest assert</h3>
<p><code>pytest</code>ãŒåˆ©ç”¨ã™ã‚‹<code>assert</code>ã¯Pythonã®çµ„ã¿è¾¼ã¿statementã¨åŒã˜ã§ã™ãŒï¼Œ<code>unittest</code>ãªã©ã®ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®<code>assert</code>ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã¨æ¯”ã¹ã‚·ãƒ³ãƒ—ãƒ«ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ ä¾‹ã¨ã—ã¦ï¼Œ</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>pytest</th>
<th>unittest</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>assert something</code></td>
<td><code>assertTrue(something)</code></td>
</tr>
<tr class="even">
<td><code>assert a == b</code></td>
<td><code>assertEqual(a, b)</code></td>
</tr>
<tr class="odd">
<td><code>assert a != b</code></td>
<td><code>assertNotEqual(a, b)</code></td>
</tr>
<tr class="even">
<td><code>assert a &lt;= b</code></td>
<td><code>assertLessEual(a, b)</code></td>
</tr>
<tr class="odd">
<td><code>assert a is None</code></td>
<td><code>assertIsNone(a)</code></td>
</tr>
<tr class="even">
<td><code>assert a is not None</code></td>
<td><code>assertIsNotNone(a)</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ãƒ†ã‚¹ãƒˆçµæœ" class="level2">
<h2 class="anchored" data-anchor-id="ãƒ†ã‚¹ãƒˆçµæœ">ãƒ†ã‚¹ãƒˆçµæœ</h2>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pytest_scripts/test_script_001.py</span> ..                                     [ 66%]</span>
<span id="cb10-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pytest_scripts/test_script_002.py</span> F                                      <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">100%</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
<p>ã«ç€ç›®ã™ã‚‹ã¨ <code>..</code>, <code>F</code> ã¨ã„ã£ãŸæ–‡å­—åˆ—ãŒç¢ºèªã§ãã¾ã™ï¼ã“ã‚Œã¯<code>pytest</code>ã®ãƒ†ã‚¹ãƒˆçµæœã‚’è¡¨ã—ã¦ã„ã¾ã™ï¼</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>çµæœ</th>
<th>è¡¨ç¤º</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PASSED</td>
<td><code>.</code></td>
<td>æ­£å¸¸ã«å®Ÿè¡Œã•ã‚ŒãŸå€‹æ•°ã‚’<code>.</code>ã®å€‹æ•°ã§ç¤ºã™</td>
</tr>
<tr class="even">
<td>FAILED</td>
<td><code>F</code></td>
<td>æ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸå€‹æ•°ã‚’<code>F</code>ã®å€‹æ•°ã§ç¤ºã™</td>
</tr>
<tr class="odd">
<td>SKIPPED</td>
<td><code>s</code></td>
<td>ã‚¹ã‚­ãƒƒãƒ—ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã‚’ç¤ºã™</td>
</tr>
<tr class="even">
<td>XFAIL</td>
<td><code>x</code></td>
<td>æƒ³å®šé€šã‚Šå¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’ç¤ºã™ï¼<code>@pytest.mark.xfail()</code>ã§<code>pytest</code>ã«æ•™ãˆã‚‹</td>
</tr>
<tr class="odd">
<td>XPASS</td>
<td><code>X</code></td>
<td><code>xfail</code>ãƒãƒ¼ã‚«ãƒ¼ã‚’è¨­å®šã—ãŸã®ã«æˆåŠŸã—ãŸãƒ†ã‚¹ãƒˆã‚’ç¤ºã™</td>
</tr>
<tr class="even">
<td>ERROR</td>
<td><code>E</code></td>
<td>ä¾‹å¤–ãŒæƒ³å®šé€šã‚Šç™ºç”Ÿã—ãŸã“ã¨ã‚’ç¤ºã™</td>
</tr>
</tbody>
</table>


</section>

 ]]></description>
  <guid>https://ryonakagami.github.io/python-statisticalpackage-techniques/posts/pytest101/chapter_header.html</guid>
  <pubDate>Mon, 11 Nov 2024 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
